"use strict";(async()=>{const n=async()=>{try{const o=window.location.origin+window.location.pathname;if(!rsp_ajax||!rsp_ajax.ajax_url||!rsp_ajax.nonce){console.error("Ajax configuration is missing.");return}const r=new FormData;r.append("action","rsp_record_visit"),r.append("nonce",rsp_ajax.nonce),r.append("page_url",o);const e=await fetch(rsp_ajax.ajax_url,{method:"POST",body:r});if(!e.ok){console.error("Failed to send visit data.");return}const a=await e.json();a.success?console.log("Visit recorded successfully."):console.error("Error from server:",a.data)}catch(o){console.error("An error occurred while recording the visit:",o)}};document.addEventListener("DOMContentLoaded",()=>{n()})})();
